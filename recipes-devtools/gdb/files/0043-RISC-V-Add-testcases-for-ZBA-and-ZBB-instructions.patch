From 3acfa79228946abd469562071baeb79720222229 Mon Sep 17 00:00:00 2001
From: Nelson Chu <nelson.chu@sifive.com>
Date: Mon, 14 Dec 2020 14:04:59 +0800
Subject: [PATCH 43/48] RISC-V: Add testcases for ZBA and ZBB instructions.

---
 gas/testsuite/gas/riscv/bitmanip-insns-32.d   | 35 +++++++++++
 gas/testsuite/gas/riscv/bitmanip-insns-64.d   | 58 +++++++++++++++++++
 .../gas/riscv/bitmanip-insns-pseudo-32.d      |  1 +
 .../gas/riscv/bitmanip-insns-pseudo-64.d      |  2 +
 .../riscv/bitmanip-insns-pseudo-noalias-32.d  |  1 +
 .../riscv/bitmanip-insns-pseudo-noalias-64.d  |  2 +
 .../gas/riscv/bitmanip-insns-pseudo.s         |  8 ++-
 gas/testsuite/gas/riscv/bitmanip-insns.s      | 57 ++++++++++++++++++
 gas/testsuite/gas/riscv/zext-32.d             | 11 ----
 gas/testsuite/gas/riscv/zext-64.d             | 12 ----
 gas/testsuite/gas/riscv/zext-noalias-32.d     | 11 ----
 gas/testsuite/gas/riscv/zext-noalias-64.d     | 12 ----
 gas/testsuite/gas/riscv/zext.s                |  6 --
 13 files changed, 162 insertions(+), 54 deletions(-)
 create mode 100644 gas/testsuite/gas/riscv/bitmanip-insns-32.d
 create mode 100644 gas/testsuite/gas/riscv/bitmanip-insns-64.d
 create mode 100644 gas/testsuite/gas/riscv/bitmanip-insns.s
 delete mode 100644 gas/testsuite/gas/riscv/zext-32.d
 delete mode 100644 gas/testsuite/gas/riscv/zext-64.d
 delete mode 100644 gas/testsuite/gas/riscv/zext-noalias-32.d
 delete mode 100644 gas/testsuite/gas/riscv/zext-noalias-64.d
 delete mode 100644 gas/testsuite/gas/riscv/zext.s

diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-32.d b/gas/testsuite/gas/riscv/bitmanip-insns-32.d
new file mode 100644
index 0000000000..bda9d603af
--- /dev/null
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-32.d
@@ -0,0 +1,35 @@
+#as: -march=rv32i_zba_zbb
+#source: bitmanip-insns.s
+#objdump: -dr
+
+.*:[ 	]+file format .*
+
+
+Disassembly of section .text:
+
+0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+20c5a533[ 	]+sh1add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5c533[ 	]+sh2add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5e533[ 	]+sh3add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+60059513[ 	]+clz[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60159513[ 	]+ctz[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60259513[ 	]+pcnt[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+0ac5c533[ 	]+min[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5e533[ 	]+max[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5d533[ 	]+minu[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5f533[ 	]+maxu[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+40c5f533[ 	]+andn[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+40c5e533[ 	]+orn[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+00c5c533[ 	]+xor[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+60c59533[ 	]+rol[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+60c5d533[ 	]+ror[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+60459513[ 	]+sext.b[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60559513[ 	]+sext.h[ 	]+a0,a1
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-64.d b/gas/testsuite/gas/riscv/bitmanip-insns-64.d
new file mode 100644
index 0000000000..843bb319be
--- /dev/null
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-64.d
@@ -0,0 +1,58 @@
+#as: -march=rv64i_zba_zbb -defsym __64_bit__=1
+#source: bitmanip-insns.s
+#objdump: -dr
+
+.*:[ 	]+file format .*
+
+
+Disassembly of section .text:
+
+0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+20c5a533[ 	]+sh1add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5c533[ 	]+sh2add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5e533[ 	]+sh3add[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0815951b[ 	]+slliu.w[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+0bf5951b[ 	]+slliu.w[ 	]+a0,a1,0x3f
+[ 	]+[0-9a-f]+:[ 	]+08c5853b[ 	]+addu.w[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5a53b[ 	]+sh1addu.w[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5c53b[ 	]+sh2addu.w[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+20c5e53b[ 	]+sh3addu.w[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+60059513[ 	]+clz[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60159513[ 	]+ctz[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60259513[ 	]+pcnt[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+0ac5c533[ 	]+min[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5e533[ 	]+max[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5d533[ 	]+minu[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+0ac5f533[ 	]+maxu[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+40c5f533[ 	]+andn[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+40c5e533[ 	]+orn[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+00c5c533[ 	]+xor[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+63f5d513[ 	]+rori[ 	]+a0,a1,0x3f
+[ 	]+[0-9a-f]+:[ 	]+6215d513[ 	]+rori[ 	]+a0,a1,0x21
+[ 	]+[0-9a-f]+:[ 	]+60c59533[ 	]+rol[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+63f5d513[ 	]+rori[ 	]+a0,a1,0x3f
+[ 	]+[0-9a-f]+:[ 	]+6215d513[ 	]+rori[ 	]+a0,a1,0x21
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+60c5d533[ 	]+ror[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d513[ 	]+rori[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+60459513[ 	]+sext.b[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+60559513[ 	]+sext.h[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+6005951b[ 	]+clzw[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+6015951b[ 	]+ctzw[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+6025951b[ 	]+pcntw[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+6015d513[ 	]+rori[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+63f5d513[ 	]+rori[ 	]+a0,a1,0x3f
+[ 	]+[0-9a-f]+:[ 	]+63f5d513[ 	]+rori[ 	]+a0,a1,0x3f
+[ 	]+[0-9a-f]+:[ 	]+61f5d51b[ 	]+roriw[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+6015d51b[ 	]+roriw[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+6015d51b[ 	]+roriw[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d51b[ 	]+roriw[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+60c5953b[ 	]+rolw[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+61f5d51b[ 	]+roriw[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+6015d51b[ 	]+roriw[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+60c5d53b[ 	]+rorw[ 	]+a0,a1,a2
+[ 	]+[0-9a-f]+:[ 	]+6015d51b[ 	]+roriw[ 	]+a0,a1,0x1
+[ 	]+[0-9a-f]+:[ 	]+61f5d51b[ 	]+roriw[ 	]+a0,a1,0x1f
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-32.d b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-32.d
index 2f24a19efc..b0cdb16efc 100644
--- a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-32.d
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-32.d
@@ -8,6 +8,7 @@
 Disassembly of section .text:
 
 0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+0805c533[ 	]+zext.h[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6815d513[ 	]+rev.p[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6825d513[ 	]+rev2.n[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6835d513[ 	]+rev.n[ 	]+a0,a1
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-64.d b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-64.d
index 6c27edac80..23b8b7b5a6 100644
--- a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-64.d
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-64.d
@@ -8,6 +8,7 @@
 Disassembly of section .text:
 
 0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+0805c53b[ 	]+zext.h[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6815d513[ 	]+rev.p[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6825d513[ 	]+rev2.n[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6835d513[ 	]+rev.n[ 	]+a0,a1
@@ -58,6 +59,7 @@ Disassembly of section .text:
 [ 	]+[0-9a-f]+:[ 	]+09c5d513[ 	]+unzip4[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+09e5d513[ 	]+unzip2[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+09f5d513[ 	]+unzip[ 	]+a0,a1
+[ 	]+[0-9a-f]+:[ 	]+0805853b[ 	]+zext.w[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6905d513[ 	]+rev16.w[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+6985d513[ 	]+rev8.w[ 	]+a0,a1
 [ 	]+[0-9a-f]+:[ 	]+69c5d513[ 	]+rev4.w[ 	]+a0,a1
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-32.d b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-32.d
index c2dde4cfaa..91190c8b6a 100644
--- a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-32.d
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-32.d
@@ -8,6 +8,7 @@
 Disassembly of section .text:
 
 0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+0805c533[ 	]+pack[ 	]+a0,a1,zero
 [ 	]+[0-9a-f]+:[ 	]+6815d513[ 	]+grevi[ 	]+a0,a1,0x1
 [ 	]+[0-9a-f]+:[ 	]+6825d513[ 	]+grevi[ 	]+a0,a1,0x2
 [ 	]+[0-9a-f]+:[ 	]+6835d513[ 	]+grevi[ 	]+a0,a1,0x3
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-64.d b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-64.d
index abdbbcaed5..187c487e7c 100644
--- a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-64.d
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo-noalias-64.d
@@ -8,6 +8,7 @@
 Disassembly of section .text:
 
 0+000 <.text>:
+[ 	]+[0-9a-f]+:[ 	]+0805c53b[ 	]+packw[ 	]+a0,a1,zero
 [ 	]+[0-9a-f]+:[ 	]+6815d513[ 	]+grevi[ 	]+a0,a1,0x1
 [ 	]+[0-9a-f]+:[ 	]+6825d513[ 	]+grevi[ 	]+a0,a1,0x2
 [ 	]+[0-9a-f]+:[ 	]+6835d513[ 	]+grevi[ 	]+a0,a1,0x3
@@ -58,6 +59,7 @@ Disassembly of section .text:
 [ 	]+[0-9a-f]+:[ 	]+09c5d513[ 	]+unshfli[ 	]+a0,a1,0x1c
 [ 	]+[0-9a-f]+:[ 	]+09e5d513[ 	]+unshfli[ 	]+a0,a1,0x1e
 [ 	]+[0-9a-f]+:[ 	]+09f5d513[ 	]+unshfli[ 	]+a0,a1,0x1f
+[ 	]+[0-9a-f]+:[ 	]+0805853b[ 	]+addu.w[ 	]+a0,a1,zero
 [ 	]+[0-9a-f]+:[ 	]+6905d513[ 	]+grevi[ 	]+a0,a1,0x10
 [ 	]+[0-9a-f]+:[ 	]+6985d513[ 	]+grevi[ 	]+a0,a1,0x18
 [ 	]+[0-9a-f]+:[ 	]+69c5d513[ 	]+grevi[ 	]+a0,a1,0x1c
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo.s b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo.s
index 37adb96a77..5dcebc0619 100644
--- a/gas/testsuite/gas/riscv/bitmanip-insns-pseudo.s
+++ b/gas/testsuite/gas/riscv/bitmanip-insns-pseudo.s
@@ -1,3 +1,5 @@
+	zext.h	a0, a1	/* ZBB  */
+
 	rev.p	a0, a1
 	rev2.n	a0, a1
 	rev.n	a0, a1
@@ -9,7 +11,7 @@
 	rev2.h	a0, a1
 	rev.h	a0, a1
 	rev16	a0, a1
-	rev8	a0, a1
+	rev8	a0, a1	/* ZBB  */
 	rev4	a0, a1
 	rev2	a0, a1
 	rev	a0, a1
@@ -19,7 +21,7 @@
 	orc.n	a0, a1
 	orc4.b	a0, a1
 	orc2.b	a0, a1
-	orc.b	a0, a1
+	orc.b	a0, a1	/* ZBB  */
 	orc8.h	a0, a1
 	orc4.h	a0, a1
 	orc2.h	a0, a1
@@ -53,6 +55,8 @@
 	unzip		a0, a1
 
 .ifdef __64_bit__
+	zext.w	a0, a1	/* ZBA or ZBB  */
+
 	rev16.w	a0, a1
 	rev8.w	a0, a1
 	rev4.w	a0, a1
diff --git a/gas/testsuite/gas/riscv/bitmanip-insns.s b/gas/testsuite/gas/riscv/bitmanip-insns.s
new file mode 100644
index 0000000000..52e4b3afff
--- /dev/null
+++ b/gas/testsuite/gas/riscv/bitmanip-insns.s
@@ -0,0 +1,57 @@
+	# ZBA
+	sh1add	a0, a1, a2
+	sh2add	a0, a1, a2
+	sh3add	a0, a1, a2
+
+.ifdef __64_bit__
+	slliu.w		a0, a1, 1
+	slliu.w		a0, a1, 63
+	addu.w		a0, a1, a2
+	sh1addu.w	a0, a1, a2
+	sh2addu.w	a0, a1, a2
+	sh3addu.w	a0, a1, a2
+.endif
+
+	# ZBB
+	clz	a0, a1
+	ctz	a0, a1
+	pcnt	a0, a1
+	min	a0, a1, a2
+	max	a0, a1, a2
+	minu	a0, a1, a2
+	maxu	a0, a1, a2
+	andn	a0, a1, a2
+	orn	a0, a1, a2
+	xor	a0, a1, a2
+	roli	a0, a1, 1
+	roli	a0, a1, 31
+	rol	a0, a1, a2
+	rol	a0, a1, 1
+	rol	a0, a1, 31
+	rori	a0, a1, 1
+	rori	a0, a1, 31
+	ror	a0, a1, a2
+	ror	a0, a1, 1
+	ror	a0, a1, 31
+	sext.b	a0, a1
+	sext.h	a0, a1
+
+.ifdef __64_bit__
+	clzw	a0, a1
+	ctzw	a0, a1
+	pcntw	a0, a1
+	roli	a0, a1, 63
+	rol	a0, a1, 63
+	rori	a0, a1, 63
+	ror	a0, a1, 63
+	roliw	a0, a1, 1
+	roliw	a0, a1, 31
+	roriw	a0, a1, 1
+	roriw	a0, a1, 31
+	rolw	a0, a1, a2
+	rolw	a0, a1, 1
+	rolw	a0, a1, 31
+	rorw	a0, a1, a2
+	rorw	a0, a1, 1
+	rorw	a0, a1, 31
+.endif
diff --git a/gas/testsuite/gas/riscv/zext-32.d b/gas/testsuite/gas/riscv/zext-32.d
deleted file mode 100644
index 9111177941..0000000000
--- a/gas/testsuite/gas/riscv/zext-32.d
+++ /dev/null
@@ -1,11 +0,0 @@
-#as: -march=rv32ib
-#source: zext.s
-#objdump: -d
-
-.*:[ 	]+file format .*
-
-
-Disassembly of section .text:
-
-0+000 <target>:
-[ 	]+0:[ 	]+0805c533[ 	]+zext.h[ 	]+a0,a1
diff --git a/gas/testsuite/gas/riscv/zext-64.d b/gas/testsuite/gas/riscv/zext-64.d
deleted file mode 100644
index 3b0955a00f..0000000000
--- a/gas/testsuite/gas/riscv/zext-64.d
+++ /dev/null
@@ -1,12 +0,0 @@
-#as: -march=rv64ib -defsym __64_bit__=1
-#source: zext.s
-#objdump: -d
-
-.*:[ 	]+file format .*
-
-
-Disassembly of section .text:
-
-0+000 <target>:
-[ 	]+0:[ 	]+0805c53b[ 	]+zext.h[ 	]+a0,a1
-[ 	]+4:[ 	]+0805853b[ 	]+zext.w[ 	]+a0,a1
diff --git a/gas/testsuite/gas/riscv/zext-noalias-32.d b/gas/testsuite/gas/riscv/zext-noalias-32.d
deleted file mode 100644
index bdecbc2fc2..0000000000
--- a/gas/testsuite/gas/riscv/zext-noalias-32.d
+++ /dev/null
@@ -1,11 +0,0 @@
-#as: -march=rv32ib
-#source: zext.s
-#objdump: -d -Mno-aliases
-
-.*:[ 	]+file format .*
-
-
-Disassembly of section .text:
-
-0+000 <target>:
-[ 	]+0:[ 	]+0805c533[ 	]+pack[ 	]+a0,a1,zero
diff --git a/gas/testsuite/gas/riscv/zext-noalias-64.d b/gas/testsuite/gas/riscv/zext-noalias-64.d
deleted file mode 100644
index 8dfd77bf43..0000000000
--- a/gas/testsuite/gas/riscv/zext-noalias-64.d
+++ /dev/null
@@ -1,12 +0,0 @@
-#as: -march=rv64ib -defsym __64_bit__=1
-#source: zext.s
-#objdump: -d -Mno-aliases
-
-.*:[ 	]+file format .*
-
-
-Disassembly of section .text:
-
-0+000 <target>:
-[ 	]+0:[ 	]+0805c53b[ 	]+packw[ 	]+a0,a1,zero
-[ 	]+4:[ 	]+0805853b[ 	]+addu.w[ 	]+a0,a1,zero
diff --git a/gas/testsuite/gas/riscv/zext.s b/gas/testsuite/gas/riscv/zext.s
deleted file mode 100644
index e2e127d949..0000000000
--- a/gas/testsuite/gas/riscv/zext.s
+++ /dev/null
@@ -1,6 +0,0 @@
-target:
-	zext.h	a0, a1
-
-.ifdef __64_bit__
-	zext.w  a0, a1
-.endif
-- 
2.33.0

