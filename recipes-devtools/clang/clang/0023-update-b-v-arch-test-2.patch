From 5fa67501f63bef6c63361f44620aa430a06349bf Mon Sep 17 00:00:00 2001
From: "yilun.xie" <yilun.xie@starfivetech.com>
Date: Fri, 11 Feb 2022 16:18:22 +0800
Subject: [PATCH 23/24] update b/v arch test(2)

---
 llvm/test/CodeGen/RISCV/attributes.ll        |  2 +-
 llvm/test/CodeGen/RISCV/rv64zbb-intrinsic.ll | 17 -----------------
 2 files changed, 1 insertion(+), 18 deletions(-)

diff --git a/llvm/test/CodeGen/RISCV/attributes.ll b/llvm/test/CodeGen/RISCV/attributes.ll
index aa25a11d1bb9..a09f31006398 100644
--- a/llvm/test/CodeGen/RISCV/attributes.ll
+++ b/llvm/test/CodeGen/RISCV/attributes.ll
@@ -49,7 +49,7 @@
 ; RV64F: .attribute 5, "rv64i2p0_f2p0"
 ; RV64D: .attribute 5, "rv64i2p0_f2p0_d2p0"
 ; RV64C: .attribute 5, "rv64i2p0_c2p0"
-; RV64B: .attribute 5, "rv64i2p0_b1p0_zba1p0_zbb1p0_zbc1p0_zbs1p0_zbt1p0"
+; RV64B: .attribute 5, "rv64i2p0_b1p0_zba1p0_zbb1p0_zbc1p0_zbs1p0"
 ; RV64ZFH: .attribute 5, "rv64i2p0_f2p0_zfh0p1"
 ; RV64ZBA: .attribute 5, "rv64i2p0_zba1p0"
 ; RV64ZBB: .attribute 5, "rv64i2p0_zbb1p0"
diff --git a/llvm/test/CodeGen/RISCV/rv64zbb-intrinsic.ll b/llvm/test/CodeGen/RISCV/rv64zbb-intrinsic.ll
index 05c0ebc88053..0595e01a4a63 100644
--- a/llvm/test/CodeGen/RISCV/rv64zbb-intrinsic.ll
+++ b/llvm/test/CodeGen/RISCV/rv64zbb-intrinsic.ll
@@ -4,23 +4,6 @@
 ; RUN: llc -mtriple=riscv64 -mattr=+experimental-zbb -verify-machineinstrs < %s \
 ; RUN:   | FileCheck %s -check-prefix=RV64ZBB
 
-declare i32 @llvm.riscv.orc.b.i32(i32)
-
-define signext i32 @orcb32(i32 signext %a) nounwind {
-; RV64B-LABEL: orcb32:
-; RV64B:       # %bb.0:
-; RV64B-NEXT:    gorciw a0, a0, 7
-; RV64B-NEXT:    ret
-;
-; RV64ZBB-LABEL: orcb32:
-; RV64ZBB:       # %bb.0:
-; RV64ZBB-NEXT:    orc.b a0, a0
-; RV64ZBB-NEXT:    sext.w a0, a0
-; RV64ZBB-NEXT:    ret
-  %tmp = call i32 @llvm.riscv.orc.b.i32(i32 %a)
- ret i32 %tmp
-}
-
 declare i64 @llvm.riscv.orc.b.i64(i64)
 
 define i64 @orcb64(i64 %a) nounwind {
-- 
2.33.1

