From 2d89129323c33d25bab29ca51875c19dff7bf434 Mon Sep 17 00:00:00 2001
From: "max.ma" <max.ma@starfivetech.com>
Date: Mon, 3 Jan 2022 18:18:25 -0800
Subject: [PATCH 04/24] remove v & b experimental version check

---
 clang/lib/Driver/ToolChains/Arch/RISCV.cpp | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/clang/lib/Driver/ToolChains/Arch/RISCV.cpp b/clang/lib/Driver/ToolChains/Arch/RISCV.cpp
index e7ac0a6a0e14..6aaf5f4806de 100644
--- a/clang/lib/Driver/ToolChains/Arch/RISCV.cpp
+++ b/clang/lib/Driver/ToolChains/Arch/RISCV.cpp
@@ -58,13 +58,13 @@ static StringRef getExtensionType(StringRef Ext) {
 // extension that the compiler currently supports.
 static Optional<RISCVExtensionVersion>
 isExperimentalExtension(StringRef Ext) {
-  if (Ext == "b" || Ext == "zba" || Ext == "zbb" || Ext == "zbc" ||
-      Ext == "zbs")
-    return RISCVExtensionVersion{"1", "0"};
+  //if (Ext == "b" || Ext == "zba" || Ext == "zbb" || Ext == "zbc" ||
+  //    Ext == "zbs")
+  //  return RISCVExtensionVersion{"1", "0"};
   if (Ext == "zbproposedc")
     return RISCVExtensionVersion{"0", "94"};
-  if (Ext == "v" || Ext == "zvamo" || Ext == "zvlsseg")
-    return RISCVExtensionVersion{"0", "10"};
+  //if (Ext == "v" || Ext == "zvamo" || Ext == "zvlsseg")
+  //  return RISCVExtensionVersion{"0", "10"};
   if (Ext == "zfh")
     return RISCVExtensionVersion{"0", "1"};
   return None;
-- 
2.33.1

