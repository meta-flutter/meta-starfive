From 9ede311a493d8d49c3c3aa5aa736dfcfc6bbabe3 Mon Sep 17 00:00:00 2001
From: "eric.tang" <eric.tang@starfivetech.com>
Date: Fri, 9 Jul 2021 09:30:28 +0800
Subject: [PATCH 28/28] solved vector-insns test failed\n

Signed-off-by: eric.tang <eric.tang@starfivetech.com>
---
 gas/testsuite/gas/riscv/vector-insns.d | 24 ++++++++++-----------
 gas/testsuite/gas/riscv/vector-insns.s | 30 +++++++++++++-------------
 2 files changed, 27 insertions(+), 27 deletions(-)

diff --git a/gas/testsuite/gas/riscv/vector-insns.d b/gas/testsuite/gas/riscv/vector-insns.d
index a264d1ee68..3e1a99bb39 100644
--- a/gas/testsuite/gas/riscv/vector-insns.d
+++ b/gas/testsuite/gas/riscv/vector-insns.d
@@ -477,17 +477,17 @@ Disassembly of section .text:
 [ 	]+[0-9a-f]+:[ 	]+9e2030d7[ 	]+vmv1r.v[ 	]+v1,v2
 [ 	]+[0-9a-f]+:[ 	]+5208a257[ 	]+vid.v[ 	]+v4
 [ 	]+[0-9a-f]+:[ 	]+5008a257[ 	]+vid.v[ 	]+v4,v0.t
-[ 	]+[0-9a-f]+:[ 	]+02850187[     ]+vl1r.v[       ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02850187[     ]+vl1r.v[       ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02850187[     ]+vl1r.v[       ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02850187[     ]+vl1r.v[       ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02855187[     ]+vl1re16.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02855187[     ]+vl1re16.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02856187[     ]+vl1re32.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02856187[     ]+vl1re32.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02857187[     ]+vl1re64.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+02857187[     ]+vl1re64.v[    ]+v3,\(a0\)
-[ 	]+[0-9a-f]+:[ 	]+028581a7[     ]+vs1r.v[       ]+v3,\(a1\)
-[ 	]+[0-9a-f]+:[ 	]+028581a7[     ]+vs1r.v[       ]+v3,\(a1\)
+[ 	]+[0-9a-f]+:[ 	]+02850187[ 	]+vl1r.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02850187[ 	]+vl1r.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02850187[ 	]+vl1r.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02850187[ 	]+vl1r.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02855187[ 	]+vl1re16.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02855187[ 	]+vl1re16.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02856187[ 	]+vl1re32.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02856187[ 	]+vl1re32.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02857187[ 	]+vl1re64.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+02857187[ 	]+vl1re64.v[ 	]+v3,\(a0\)
+[ 	]+[0-9a-f]+:[ 	]+028581a7[ 	]+vs1r.v[ 	]+v3,\(a1\)
+[ 	]+[0-9a-f]+:[ 	]+028581a7[ 	]+vs1r.v[ 	]+v3,\(a1\)
 
 
diff --git a/gas/testsuite/gas/riscv/vector-insns.s b/gas/testsuite/gas/riscv/vector-insns.s
index 81ef661af9..c1e826007f 100644
--- a/gas/testsuite/gas/riscv/vector-insns.s
+++ b/gas/testsuite/gas/riscv/vector-insns.s
@@ -518,19 +518,19 @@
 	vrgather.vi v4, v8, 31, v0.t
 
 	vcompress.vm v4, v8, v12
-        vmv1r.v v1, v2
-        vid.v v4
-        vid.v v4, v0.t
-        vl1r.v v3, (a0)
-        vl1r.v v3, 0(a0)
-        vl1re8.v v3, (a0)
-        vl1re8.v v3, 0(a0)
-        vl1re16.v v3, (a0)
-        vl1re16.v v3, 0(a0)
-        vl1re32.v v3, (a0)
-        vl1re32.v v3, 0(a0)
-        vl1re64.v v3, (a0)
-        vl1re64.v v3, 0(a0)
-        vs1r.v v3, (a1)
-        vs1r.v v3, 0(a1)
+	vmv1r.v v1, v2
+	vid.v v4
+	vid.v v4, v0.t
+	vl1r.v v3, (a0)
+	vl1r.v v3, 0(a0)
+	vl1re8.v v3, (a0)
+	vl1re8.v v3, 0(a0)
+	vl1re16.v v3, (a0)
+	vl1re16.v v3, 0(a0)
+	vl1re32.v v3, (a0)
+	vl1re32.v v3, 0(a0)
+	vl1re64.v v3, (a0)
+	vl1re64.v v3, 0(a0)
+	vs1r.v v3, (a1)
+	vs1r.v v3, 0(a1)
 
-- 
2.33.0

